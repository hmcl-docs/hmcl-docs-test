<!doctype html><html lang="zh" class="no-js"><head><meta charset="utf-8"><title>使用HMCL启动器配置服务器客户端自动更新 - HMCL 文档</title><meta name="description" content="备注"><meta property="og:type" content="article"><meta property="og:locale" content="zh"><meta property="og:site_name" content="HMCL 文档"><meta property="og:title" content="使用HMCL启动器配置服务器客户端自动更新"><meta property="og:url" content="https://hmcl-docs.github.io/hmcl-docs-test/PR1/modpack/serverpack2.html"><meta property="og:description" content="备注"><meta property="article:published_time" content="2021-08-22T23:18:02+08:00"><link rel="canonical" href="https://hmcl-docs.github.io/hmcl-docs-test/PR1/modpack/serverpack2.html"><link href="/hmcl-docs-test/PR1/feed.xml" type="application/atom+xml" rel="alternate" title="HMCL 文档 Feed"><meta name="viewport" content="width=device-width, initial-scale=1.0"> <script> document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js '; window.enable_copy_code_button = true; </script><link rel="stylesheet" href="/hmcl-docs-test/PR1/assets/css/main.css"><link rel="stylesheet" href="/hmcl-docs-test/PR1/assets/lib/fontawesome/css/all.min.css"> <noscript><link rel="stylesheet" href="/hmcl-docs-test/PR1/assets/lib/fontawesome/css/all.min.css"></noscript> <script src="/hmcl-docs-test/PR1/assets/js/theme.js"></script><link rel="shortcut icon" href="/hmcl-docs-test/PR1/favicon.ico"></head><body class="layout--document" dir="ltr"><nav class="skip-links"><ul><li><a href="#site-nav" class="screen-reader-shortcut">转到主导航栏</a></li><li><a href="#main" class="screen-reader-shortcut">转到内容</a></li><li><a href="#footer" class="screen-reader-shortcut">转到底部</a></li></ul></nav><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav id="site-nav" class="greedy-nav"> <a class="site-logo" href="/hmcl-docs-test/PR1/"><img src="/hmcl-docs-test/PR1/assets/img/hmcl.png" alt="HMCL 文档"></a> <a class="site-title" href="/hmcl-docs-test/PR1/"> HMCL 文档 </a><ul class="visible-links"><li class="masthead__menu-item"> <a href="/hmcl-docs-test/PR1/faq.html" >常见问题</a></li></ul><button class="greedy-nav__toggle hidden" type="button"> <span class="visually-hidden">切换菜单</span><div class="navicon"></div></button><ul class="hidden-links hidden"></ul></nav></div></div></div><div class="initial-content"><div id="main" role="main"><div class="sidebar sticky"><nav class="nav__list"> <input id="ac-toc" name="accordion-toc" type="checkbox" /> <label for="ac-toc">切换菜单</label><ul class="nav__items"><li> <span class="nav__sub-title">问题集合</span><ul><li><a href="/hmcl-docs-test/PR1/faq.html">常见问题</a></li><li><a href="/hmcl-docs-test/PR1/launcher/">启动器使用相关</a></li><li><a href="/hmcl-docs-test/PR1/modpack/">整合包帮助</a></li><li><a href="/hmcl-docs-test/PR1/multiplayer/">多人联机帮助</a></li></ul></li><li> <span class="nav__sub-title">使用者帮助</span><ul><li><a href="/hmcl-docs-test/PR1/launcher/isolation.html">版本隔离</a></li><li><a href="/hmcl-docs-test/PR1/launcher/offline-skin.html">设置离线皮肤</a></li><li><a href="/hmcl-docs-test/PR1/launcher/auto-installing.html">HMCL 的自动安装使用教程</a></li><li><a href="/hmcl-docs-test/PR1/launcher/shader.html">安装光影</a></li><li><a href="/hmcl-docs-test/PR1/launcher/set-item-details.html">设置项详解</a></li></ul></li><li> <span class="nav__sub-title">开发者帮助</span><ul><li><a href="/hmcl-docs-test/PR1/launcher/datapack.html">制作 HMCL 格式的数据包</a></li><li><a href="/hmcl-docs-test/PR1/modpack/serverpack.html">制作整合包</a></li><li><a href="/hmcl-docs-test/PR1/launcher/authlib-injector.html">添加默认 authlib-injector 验证服务器</a></li></ul></li><li> <span class="nav__sub-title">其他</span><ul><li><a href="/hmcl-docs-test/PR1/contribution.html">为 HMCL 做出贡献</a></li><li><a href="https://github.com/HMCL-dev/HMCL">HMCL GitHub 地址</a></li><li><a href="https://github.com/HMCL-dev/HMCL-docs">HMCL 帮助文档 GitHub 地址</a></li><li><a href="https://hmcl.huangyuhui.net">HMCL 官网</a></li></ul></li></ul></nav></div><article class="page" itemscope itemtype="https://schema.org/CreativeWork"><meta itemprop="headline" content="使用HMCL启动器配置服务器客户端自动更新"><meta itemprop="description" content="备注"><meta itemprop="datePublished" content="2021-08-22T23:18:02+08:00"><div class="page__inner-wrap"><header><h1 id="page-title" class="page__title" itemprop="headline"> <a href="https://hmcl-docs.github.io/hmcl-docs-test/PR1/modpack/serverpack2.html" itemprop="url">使用HMCL启动器配置服务器客户端自动更新 </a></h1></header><section class="page__content" itemprop="text"><aside class="sidebar__right sticky"><nav class="toc"><header><h4 class="nav__title"><i class="fas fa-file-alt"></i> 目录</h4></header><ul class="toc__menu"><li><a href="#备注">备注</a></li><li><a href="#前言">前言</a></li><li><a href="#教程">教程</a><ul><li><a href="#第一步-租服务器如果你有公网ip的服务器请跳过这一步">第一步-租服务器（▲如果你有公网IP的服务器，请跳过这一步）</a></li><li><a href="#第二步-安装宝塔面板centos-80系统">第二步-安装宝塔面板——CentOS 8.0系统</a></li><li><a href="#第三步-搭建http静态文件服务器">第三步-搭建HTTP静态文件服务器</a></li><li><a href="#第四步-制作整合包">第四步-制作整合包</a></li><li><a href="#第五步-上传整合包">第五步-上传整合包</a></li><li><a href="#第六步-分发整合包">第六步-分发整合包</a></li><li><a href="#第七步-检测整合包">第七步-检测整合包</a></li></ul></li><li><a href="#后续">后续</a></li></ul></nav></aside><img src="https://hits.zkitefly.eu.org/?tag=https%3A%2F%2Fhmcl-docs.github.io%2Fhmcl-docs-test%2FPR1%2Fmodpack%2Fserverpack2.html" alt="Hits" decoding="async"><div class="notice--info"><p>本文由 未署名用户 创建。</p></div><h2 id="备注">备注</h2><blockquote><p>文章原作者：<a href="https://www.mcbbs.net/home.php?mod=space&amp;uid=3051111">hy黑影</a> 转载：Zkitfly 部分内容进行了稍作打磨 本教程转载至<a href="https://www.mcbbs.net/thread-1103864-1-1.html?action=printable">https://www.mcbbs.net/thread-1103864-1-1.html?action=printable</a></p></blockquote><h2 id="前言"><strong>前言</strong></h2><ul><li>我自己开设的服务器有很多不同的子服，每个子服的客户端版本呢都不相同，我又希望能整合到一个客户端里面；找了一圈发现那些辅助更新程序只能更新单个客户端版本，而且界面不太美观；甚至一度想自己开发启动器………</li><li>这篇帖子的灵感来自于 <strong>HMCL</strong> 启动器的一个功能 <strong>导出服务器自动更新整合包</strong>，我觉得可以利用这个功能来代替一些自动更新的辅助程序。</li><li>整个功能的实现需要：<strong>一台有公网IP的服务器、一个客户端整合包、HMCL启动器</strong>；如果你都没有，那就换成RMB10元</li><li>本篇教程默认读者为 萌新，即<strong>没有接触过HTTP服务器，网络应用开发，不懂linux系统，惧怕控制台程序</strong></li></ul><h2 id="教程"><strong>教程</strong></h2><h3 id="第一步-租服务器如果你有公网ip的服务器请跳过这一步"><strong>第一步-租服务器（▲如果你有公网IP的服务器，请跳过这一步）</strong></h3><ul><li>百度搜索 <a href="https://cloud.tencent.com/act/campus?from=11821">腾讯云学生机</a> 或 <a href="https://promotion.aliyun.com/ntms/act/campus2018.html">阿里云学生机</a></li><li>可以看到有10元/月 的套餐，如果是阿里云的话选<strong>轻量型应用服务器</strong>，腾讯云就只有一个套餐</li><li>系统请选择<strong>CentOS 8.0 64位</strong>，其他保持默认即可</li><li>再次确认是否是十元，是的话直接购买；不是的话可能是你已经买过学生套餐</li><li>第一次购买可能需要<strong>实名认证</strong>，按照提示操作即可，不需要担心安全问题，都是可靠的大公司</li></ul><h3 id="第二步-安装宝塔面板centos-80系统">第二步-安装宝塔面板——CentOS 8.0系统</h3><ul><li><p>以腾讯云举例，阿里云同理</p></li><li><p>打开控制台面板，找到刚才租的学生机</p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/2.1.jpg" alt="" /></p></li><li><p>选择重置密码</p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/2.2.jpg" alt="" /></p></li><li><p>点击右侧<strong>登入</strong>按钮，按照说明填写你刚刚重置的密码；之后应该会看到类似这样的提示</p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/2.3.jpg" alt="" /></p></li><li><p><strong>不要慌，冷静。如果下面的部分教程失效请去<a href="https://www.bt.cn/">宝塔面板官网</a>，点击Linux-&gt;立即安装</strong></p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/2.4.jpg" alt="" /></p></li><li><p>回到控制台面板，我们需要开放一些通道让面板通过，选择<strong>安全组</strong></p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/2.5.jpg" alt="" /></p></li><li><p>点击<strong>修改规则</strong>，再点击<strong>添加规则</strong></p></li><li><p>图1：</p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/2.6.jpg" alt="" /></p></li><li><p>图2：</p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/2.7.jpg" alt="" /></p></li><li><p><strong>按照图中所写添加，想要安全的话按照图1，懒的话按照图2</strong></p></li><li><p>回到那个黑黑的界面里输入 <code class="language-plaintext highlighter-rouge">yum install -y wget &amp;&amp; wget -O install.sh https://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh</code> ，按下回车</p></li><li><p>这时会刷一大片大的英文，等他停下来的时候仔细看，最后一行在问你要不要安装（就是最后显示y/n），输入y并按下回车</p></li><li><p>耐心等待五分钟左右，直到出现这个字样</p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/2.8.jpg" alt="" /></p></li><li><p>复制<strong>外网面板地址</strong>，在打开的页面中，用户名输入username后面的内容，密码输入password后面的内容</p></li><li><p>点击登入，到此为止面板按照完成</p></li></ul><h3 id="第三步-搭建http静态文件服务器"><strong>第三步-搭建HTTP静态文件服务器</strong></h3><ul><li><p>打开刚刚的宝塔面板，一般都会有提示安装套件，选择<strong>nginx套装</strong>安装</p></li><li><p>等待安装完成后，选择<strong>网站</strong>，点击<strong>添加网站</strong></p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/3.1.jpg" alt="" /></p></li><li><p>在弹出的页面填写网站IP，就是地址栏里面的那个；比如：我的是 https://233.88.233.44:8888/site ,那么我就填233.88.233.44</p></li><li><p>另外，<strong>租vps的同学请找服务商索要ip地址和开放的端口</strong>，比如我要到的是123.21.123.21:6666，那我就把这个填上去</p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/3.2.jpg" alt="" /></p></li><li><p><strong>其他保持不变，到此为止你已经搭建好了HTTP静态文件服务器✔</strong></p></li></ul><h3 id="第四步-制作整合包"><strong>第四步-制作整合包</strong></h3><ul><li><p>使用HMCL打开你的MC客户端</p></li><li><p>选择你的游戏版本，点击<strong>导出整合包</strong></p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/4.1.jpg" alt="" /></p></li><li><p>选择<strong>服务器自动更新整合包</strong></p></li><li><p>填写相关信息：</p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/4.2.jpg" alt="" /></p></li><li><p>整合包下载链接前缀：比如我刚刚在【<a href="###第三步-搭建HTTP静态文件服务器">第三步-搭建HTTP静态文件服务器</a>】宝塔里填的是233.88.233.44，我希望能有版本区分，这个版本代号是a；那么我就填https://233.88.233.44/a， <strong>vps注意，端口号也要写▲</strong></p></li><li><p>版本号写1.0 ，以后更新就写2.0以此类推</p></li><li><p>点击<strong>下一步</strong>，导出完成</p></li></ul><h3 id="第五步-上传整合包"><strong>第五步-上传整合包</strong></h3><ul><li><p>打开宝塔面板，选择<strong>文件</strong>，找到相应的目录，在相应IP目录下新建文件夹；比如我刚刚写的版本代号是a，那我就新建a这个文件夹</p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/5.1.jpg" alt="" /></p></li><li><p>在新建的文件夹里上传刚刚导出的整合包，并解压；成功后如下图</p><p><img src="/hmcl-docs-test/PR1/assets/img/docs/serverpack2/5.2.jpg" alt="" /></p></li><li><p>要是更新整合包，请在解压时将该【a】这个文件夹内的文件覆盖处理</p></li></ul><h3 id="第六步-分发整合包"><strong>第六步-分发整合包</strong></h3><ul><li><strong>大公告成，现在可以把刚刚导出的这个整合包上传分享给玩家了！</strong></li></ul><h3 id="第七步-检测整合包"><strong>第七步-检测整合包</strong></h3><ul><li><strong>为了防止一些手滑现象导致整合包可能会出现一些问题，你可以在分发整合包前先测试一下要准备分发的整合包</strong></li></ul><h2 id="后续"><strong>后续</strong></h2><ul><li>以后每次更新客户端只要重复<a href="###第四步-制作整合包"><strong>第四步</strong></a><strong>和</strong><a href="###第五步-上传整合包"><strong>第五步</strong></a>，<strong>玩家重启客户端后就会自动接收更新</strong></li><li>版本号要记得更新</li><li>默认的更新方式不会删除玩家自己加入的模组，但会下载玩家删除的模组</li><li>更新覆盖的是整合包导出时的所有数据</li><li><strong>每次更新会从整合包提供的链接下载 server-manifest.json 来校验玩家本地的整合包。若校验到整合包里没有匹配这个名字的文件或整合包里这个文件匹配名字但哈希值不匹配，就会下载该文件，不会下载匹配名字且哈希值匹配的文件</strong></li><li>出网带宽1MB我觉得够用了，除非你想让玩家自己下载全部内容（就是将整合包分发给他人前删除所有模组，玩家启动时就会开始下载回来，这样的好处是可见的整合包大小变小了）</li></ul></section><footer class="page__meta"><p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 更新时间:</strong> <time class="dt-published" datetime="2021-08-22T23:18:02+08:00">August 22, 2021</time></p></footer><nav class="pagination"> <a href="/hmcl-docs-test/PR1/modpack/serverpack.html" class="pagination--pager" title="服务端自动更新整合包制作教程">上一页</a> <a href="/hmcl-docs-test/PR1/modpack/bundled-java.html" class="pagination--pager" title="整合包自带 Java 教程">下一页</a></nav></div></article></div></div><div id="footer" class="page__footer"><footer><div class="page__footer-follow"><ul class="social-icons"><li><strong>关注:</strong></li><li><a href="https://github.com/HMCL-dev/HMCL" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> Github</a></li><li><a href="https://beian.miit.gov.cn" rel="nofollow noopener noreferrer"><i class="fas fa-link" aria-hidden="true"></i> 粤ICP备18071565号</a></li><li><a href="/hmcl-docs-test/PR1/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li></ul></div><div class="page__footer-copyright">&copy; 2025 <a href="mailto:hmcl@huangyuhui.net">huanghongxun</a>. 技术来自于 <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div></footer></div><script src="/hmcl-docs-test/PR1/assets/js/main.min.js"></script> <script src="/hmcl-docs-test/PR1/assets/js/plugins/jquery.auto-redirect.js"></script></body></html>
